import e from"./util/unesc.js";import*as t from"cssesc";import*as r from"util-deprecate";var n={};n.__esModule=true;n.default=getProp;function getProp(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];while(r.length>0){var i=r.shift();if(!e[i])return;e=e[i]}return e}n=n.default;var i=n;var s={};s.__esModule=true;s.default=ensureObject;function ensureObject(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];while(r.length>0){var i=r.shift();e[i]||(e[i]={});e=e[i]}}s=s.default;var o=s;var a={};a.__esModule=true;a.default=stripComments;function stripComments(e){var t="";var r=e.indexOf("/*");var n=0;while(r>=0){t+=e.slice(n,r);var i=e.indexOf("*/",r+2);if(i<0)return t;n=i+2;r=e.indexOf("/*",n)}t+=e.slice(n);return t}a=a.default;var u=a;var c={};c.__esModule=true;c.unesc=c.stripComments=c.getProp=c.ensureObject=void 0;var f=_interopRequireDefault$i(e);c.unesc=f.default;var l=_interopRequireDefault$i(i);c.getProp=l.default;var p=_interopRequireDefault$i(o);c.ensureObject=p.default;var h=_interopRequireDefault$i(u);c.stripComments=h.default;function _interopRequireDefault$i(e){return e&&e.__esModule?e:{default:e}}var d={};d.__esModule=true;d.default=void 0;var v=c;function _defineProperties$6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$6(e,t,r){t&&_defineProperties$6(e.prototype,t);r&&_defineProperties$6(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var _=function cloneNode(e,t){if(typeof e!=="object"||e===null)return e;var r=new e.constructor;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];var s=typeof i;n==="parent"&&s==="object"?t&&(r[n]=t):r[n]=i instanceof Array?i.map((function(e){return cloneNode(e,r)})):cloneNode(i,r)}return r};var y=function(){function Node(e){e===void 0&&(e={});Object.assign(this,e);this.spaces=this.spaces||{};this.spaces.before=this.spaces.before||"";this.spaces.after=this.spaces.after||""}var e=Node.prototype;e.remove=function remove(){this.parent&&this.parent.removeChild(this);this.parent=void 0;return this};e.replaceWith=function replaceWith(){if(this.parent){for(var e in arguments)this.parent.insertBefore(this,arguments[e]);this.remove()}return this};e.next=function next(){return this.parent.at(this.parent.index(this)+1)};e.prev=function prev(){return this.parent.at(this.parent.index(this)-1)};e.clone=function clone(e){e===void 0&&(e={});var t=_(this);for(var r in e)t[r]=e[r];return t}
/**
   * Some non-standard syntax doesn't follow normal escaping rules for css.
   * This allows non standard syntax to be appended to an existing property
   * by specifying the escaped value. By specifying the escaped value,
   * illegal characters are allowed to be directly inserted into css output.
   * @param {string} name the property to set
   * @param {any} value the unescaped value of the property
   * @param {string} valueEscaped optional. the escaped value of the property.
   */;e.appendToPropertyAndEscape=function appendToPropertyAndEscape(e,t,r){this.raws||(this.raws={});var n=this[e];var i=this.raws[e];this[e]=n+t;i||r!==t?this.raws[e]=(i||n)+r:delete this.raws[e]}
/**
   * Some non-standard syntax doesn't follow normal escaping rules for css.
   * This allows the escaped value to be specified directly, allowing illegal
   * characters to be directly inserted into css output.
   * @param {string} name the property to set
   * @param {any} value the unescaped value of the property
   * @param {string} valueEscaped the escaped value of the property.
   */;e.setPropertyAndEscape=function setPropertyAndEscape(e,t,r){this.raws||(this.raws={});this[e]=t;this.raws[e]=r}
/**
   * When you want a value to passed through to CSS directly. This method
   * deletes the corresponding raw value causing the stringifier to fallback
   * to the unescaped value.
   * @param {string} name the property to set.
   * @param {any} value The value that is both escaped and unescaped.
   */;e.setPropertyWithoutEscape=function setPropertyWithoutEscape(e,t){this[e]=t;this.raws&&delete this.raws[e]}
/**
   *
   * @param {number} line The number (starting with 1)
   * @param {number} column The column number (starting with 1)
   */;e.isAtPosition=function isAtPosition(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e)&&(!(this.source.end.line<e)&&(!(this.source.start.line===e&&this.source.start.column>t)&&!(this.source.end.line===e&&this.source.end.column<t)))};e.stringifyProperty=function stringifyProperty(e){return this.raws&&this.raws[e]||this[e]};e.valueToString=function valueToString(){return String(this.stringifyProperty("value"))};e.toString=function toString(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")};_createClass$6(Node,[{key:"rawSpaceBefore",get:function get(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;e===void 0&&(e=this.spaces&&this.spaces.before);return e||""},set:function set(e){(0,v.ensureObject)(this,"raws","spaces");this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function get(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;e===void 0&&(e=this.spaces.after);return e||""},set:function set(e){(0,v.ensureObject)(this,"raws","spaces");this.raws.spaces.after=e}}]);return Node}();d.default=y;d=d.default;var b=d;var S={};S.__esModule=true;S.UNIVERSAL=S.TAG=S.STRING=S.SELECTOR=S.ROOT=S.PSEUDO=S.NESTING=S.ID=S.COMMENT=S.COMBINATOR=S.CLASS=S.ATTRIBUTE=void 0;var O="tag";S.TAG=O;var g="string";S.STRING=g;var T="selector";S.SELECTOR=T;var P="root";S.ROOT=P;var k="pseudo";S.PSEUDO=k;var w="nesting";S.NESTING=w;var m="id";S.ID=m;var E="comment";S.COMMENT=E;var D="combinator";S.COMBINATOR=D;var $="class";S.CLASS=$;var L="attribute";S.ATTRIBUTE=L;var R="universal";S.UNIVERSAL=R;var I={};I.__esModule=true;I.default=void 0;var q=_interopRequireDefault$h(b);var N=_interopRequireWildcard$3(S);function _getRequireWildcardCache$3(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache$3=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard$3(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var r=_getRequireWildcardCache$3(t);if(r&&r.has(e))return r.get(e);var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e;r&&r.set(e,n);return n}function _interopRequireDefault$h(e){return e&&e.__esModule?e:{default:e}}function _createForOfIteratorHelperLoose(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&typeof e.length==="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:true}:{done:false,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);r==="Object"&&e.constructor&&(r=e.constructor.name);return r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties$5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$5(e,t,r){t&&_defineProperties$5(e.prototype,t);r&&_defineProperties$5(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inheritsLoose$d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$d(e,t)}function _setPrototypeOf$d(e,t){_setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$d(e,t)}var A=function(e){_inheritsLoose$d(Container,e);function Container(t){var r;r=e.call(this,t)||this;r.nodes||(r.nodes=[]);return r}var t=Container.prototype;t.append=function append(e){e.parent=this;this.nodes.push(e);return this};t.prepend=function prepend(e){e.parent=this;this.nodes.unshift(e);return this};t.at=function at(e){return this.nodes[e]};t.index=function index(e){return typeof e==="number"?e:this.nodes.indexOf(e)};t.removeChild=function removeChild(e){e=this.index(e);this.at(e).parent=void 0;this.nodes.splice(e,1);var t;for(var r in this.indexes){t=this.indexes[r];t>=e&&(this.indexes[r]=t-1)}return this};t.removeAll=function removeAll(){for(var e,t=_createForOfIteratorHelperLoose(this.nodes);!(e=t()).done;){var r=e.value;r.parent=void 0}this.nodes=[];return this};t.empty=function empty(){return this.removeAll()};t.insertAfter=function insertAfter(e,t){t.parent=this;var r=this.index(e);this.nodes.splice(r+1,0,t);t.parent=this;var n;for(var i in this.indexes){n=this.indexes[i];r<=n&&(this.indexes[i]=n+1)}return this};t.insertBefore=function insertBefore(e,t){t.parent=this;var r=this.index(e);this.nodes.splice(r,0,t);t.parent=this;var n;for(var i in this.indexes){n=this.indexes[i];n<=r&&(this.indexes[i]=n+1)}return this};t._findChildAtPosition=function _findChildAtPosition(e,t){var r=void 0;this.each((function(n){if(n.atPosition){var i=n.atPosition(e,t);if(i){r=i;return false}}else if(n.isAtPosition(e,t)){r=n;return false}}));return r}
/**
   * Return the most specific node at the line and column number given.
   * The source location is based on the original parsed location, locations aren't
   * updated as selector nodes are mutated.
   * 
   * Note that this location is relative to the location of the first character
   * of the selector, and not the location of the selector in the overall document
   * when used in conjunction with postcss.
   *
   * If not found, returns undefined.
   * @param {number} line The line number of the node to find. (1-based index)
   * @param {number} col  The column number of the node to find. (1-based index)
   */;t.atPosition=function atPosition(e,t){return this.isAtPosition(e,t)?this._findChildAtPosition(e,t)||this:void 0};t._inferEndPosition=function _inferEndPosition(){if(this.last&&this.last.source&&this.last.source.end){this.source=this.source||{};this.source.end=this.source.end||{};Object.assign(this.source.end,this.last.source.end)}};t.each=function each(e){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});this.lastEach++;var t=this.lastEach;this.indexes[t]=0;if(this.length){var r,n;while(this.indexes[t]<this.length){r=this.indexes[t];n=e(this.at(r),r);if(n===false)break;this.indexes[t]+=1}delete this.indexes[t];return n!==false&&void 0}};t.walk=function walk(e){return this.each((function(t,r){var n=e(t,r);n!==false&&t.length&&(n=t.walk(e));if(n===false)return false}))};t.walkAttributes=function walkAttributes(e){var t=this;return this.walk((function(r){if(r.type===N.ATTRIBUTE)return e.call(t,r)}))};t.walkClasses=function walkClasses(e){var t=this;return this.walk((function(r){if(r.type===N.CLASS)return e.call(t,r)}))};t.walkCombinators=function walkCombinators(e){var t=this;return this.walk((function(r){if(r.type===N.COMBINATOR)return e.call(t,r)}))};t.walkComments=function walkComments(e){var t=this;return this.walk((function(r){if(r.type===N.COMMENT)return e.call(t,r)}))};t.walkIds=function walkIds(e){var t=this;return this.walk((function(r){if(r.type===N.ID)return e.call(t,r)}))};t.walkNesting=function walkNesting(e){var t=this;return this.walk((function(r){if(r.type===N.NESTING)return e.call(t,r)}))};t.walkPseudos=function walkPseudos(e){var t=this;return this.walk((function(r){if(r.type===N.PSEUDO)return e.call(t,r)}))};t.walkTags=function walkTags(e){var t=this;return this.walk((function(r){if(r.type===N.TAG)return e.call(t,r)}))};t.walkUniversals=function walkUniversals(e){var t=this;return this.walk((function(r){if(r.type===N.UNIVERSAL)return e.call(t,r)}))};t.split=function split(e){var t=this;var r=[];return this.reduce((function(n,i,s){var o=e.call(t,i);r.push(i);if(o){n.push(r);r=[]}else s===t.length-1&&n.push(r);return n}),[])};t.map=function map(e){return this.nodes.map(e)};t.reduce=function reduce(e,t){return this.nodes.reduce(e,t)};t.every=function every(e){return this.nodes.every(e)};t.some=function some(e){return this.nodes.some(e)};t.filter=function filter(e){return this.nodes.filter(e)};t.sort=function sort(e){return this.nodes.sort(e)};t.toString=function toString(){return this.map(String).join("")};_createClass$5(Container,[{key:"first",get:function get(){return this.at(0)}},{key:"last",get:function get(){return this.at(this.length-1)}},{key:"length",get:function get(){return this.nodes.length}}]);return Container}(q.default);I.default=A;I=I.default;var C=I;var M={};M.__esModule=true;M.default=void 0;var j=_interopRequireDefault$g(C);var F=S;function _interopRequireDefault$g(e){return e&&e.__esModule?e:{default:e}}function _defineProperties$4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$4(e,t,r){t&&_defineProperties$4(e.prototype,t);r&&_defineProperties$4(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inheritsLoose$c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$c(e,t)}function _setPrototypeOf$c(e,t){_setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$c(e,t)}var x=function(e){_inheritsLoose$c(Root,e);function Root(t){var r;r=e.call(this,t)||this;r.type=F.ROOT;return r}var t=Root.prototype;t.toString=function toString(){var e=this.reduce((function(e,t){e.push(String(t));return e}),[]).join(",");return this.trailingComma?e+",":e};t.error=function error(e,t){return this._error?this._error(e,t):new Error(e)};_createClass$4(Root,[{key:"errorGenerator",set:function set(e){this._error=e}}]);return Root}(j.default);M.default=x;M=M.default;var W=M;var U={};U.__esModule=true;U.default=void 0;var Y=_interopRequireDefault$f(C);var Q=S;function _interopRequireDefault$f(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$b(e,t)}function _setPrototypeOf$b(e,t){_setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$b(e,t)}var B=function(e){_inheritsLoose$b(Selector,e);function Selector(t){var r;r=e.call(this,t)||this;r.type=Q.SELECTOR;return r}return Selector}(Y.default);U.default=B;U=U.default;var G=U;var V=t;try{"default"in t&&(V=t.default)}catch(e){}var z={};z.__esModule=true;z.default=void 0;var H=_interopRequireDefault$e(V);var J=c;var K=_interopRequireDefault$e(b);var X=S;function _interopRequireDefault$e(e){return e&&e.__esModule?e:{default:e}}function _defineProperties$3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$3(e,t,r){t&&_defineProperties$3(e.prototype,t);r&&_defineProperties$3(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inheritsLoose$a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$a(e,t)}function _setPrototypeOf$a(e,t){_setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$a(e,t)}var Z=function(e){_inheritsLoose$a(ClassName,e);function ClassName(t){var r;r=e.call(this,t)||this;r.type=X.CLASS;r._constructed=true;return r}var t=ClassName.prototype;t.valueToString=function valueToString(){return"."+e.prototype.valueToString.call(this)};_createClass$3(ClassName,[{key:"value",get:function get(){return this._value},set:function set(e){if(this._constructed){var t=(0,H.default)(e,{isIdentifier:true});if(t!==e){(0,J.ensureObject)(this,"raws");this.raws.value=t}else this.raws&&delete this.raws.value}this._value=e}}]);return ClassName}(K.default);z.default=Z;z=z.default;var ee=z;var te={};te.__esModule=true;te.default=void 0;var re=_interopRequireDefault$d(b);var ne=S;function _interopRequireDefault$d(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$9(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$9(e,t)}function _setPrototypeOf$9(e,t){_setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$9(e,t)}var ie=function(e){_inheritsLoose$9(Comment,e);function Comment(t){var r;r=e.call(this,t)||this;r.type=ne.COMMENT;return r}return Comment}(re.default);te.default=ie;te=te.default;var se=te;var oe={};oe.__esModule=true;oe.default=void 0;var ae=_interopRequireDefault$c(b);var ue=S;function _interopRequireDefault$c(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$8(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$8(e,t)}function _setPrototypeOf$8(e,t){_setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$8(e,t)}var ce=function(e){_inheritsLoose$8(ID,e);function ID(t){var r;r=e.call(this,t)||this;r.type=ue.ID;return r}var t=ID.prototype;t.valueToString=function valueToString(){return"#"+e.prototype.valueToString.call(this)};return ID}(ae.default);oe.default=ce;oe=oe.default;var fe=oe;var le=t;try{"default"in t&&(le=t.default)}catch(e){}var pe={};pe.__esModule=true;pe.default=void 0;var he=_interopRequireDefault$b(le);var de=c;var ve=_interopRequireDefault$b(b);function _interopRequireDefault$b(e){return e&&e.__esModule?e:{default:e}}function _defineProperties$2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$2(e,t,r){t&&_defineProperties$2(e.prototype,t);r&&_defineProperties$2(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inheritsLoose$7(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$7(e,t)}function _setPrototypeOf$7(e,t){_setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$7(e,t)}var _e=function(e){_inheritsLoose$7(Namespace,e);function Namespace(){return e.apply(this,arguments)||this}var t=Namespace.prototype;t.qualifiedName=function qualifiedName(e){return this.namespace?this.namespaceString+"|"+e:e};t.valueToString=function valueToString(){return this.qualifiedName(e.prototype.valueToString.call(this))};_createClass$2(Namespace,[{key:"namespace",get:function get(){return this._namespace},set:function set(e){if(e!==true&&e!=="*"&&e!=="&"){var t=(0,he.default)(e,{isIdentifier:true});this._namespace=e;if(t!==e){(0,de.ensureObject)(this,"raws");this.raws.namespace=t}else this.raws&&delete this.raws.namespace}else{this._namespace=e;this.raws&&delete this.raws.namespace}}},{key:"ns",get:function get(){return this._namespace},set:function set(e){this.namespace=e}},{key:"namespaceString",get:function get(){if(this.namespace){var e=this.stringifyProperty("namespace");return e===true?"":e}return""}}]);return Namespace}(ve.default);pe.default=_e;pe=pe.default;var ye=pe;var be={};be.__esModule=true;be.default=void 0;var Se=_interopRequireDefault$a(ye);var Oe=S;function _interopRequireDefault$a(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$6(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$6(e,t)}function _setPrototypeOf$6(e,t){_setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$6(e,t)}var ge=function(e){_inheritsLoose$6(Tag,e);function Tag(t){var r;r=e.call(this,t)||this;r.type=Oe.TAG;return r}return Tag}(Se.default);be.default=ge;be=be.default;var Te=be;var Pe={};Pe.__esModule=true;Pe.default=void 0;var ke=_interopRequireDefault$9(b);var we=S;function _interopRequireDefault$9(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$5(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$5(e,t)}function _setPrototypeOf$5(e,t){_setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$5(e,t)}var me=function(e){_inheritsLoose$5(String,e);function String(t){var r;r=e.call(this,t)||this;r.type=we.STRING;return r}return String}(ke.default);Pe.default=me;Pe=Pe.default;var Ee=Pe;var De={};De.__esModule=true;De.default=void 0;var $e=_interopRequireDefault$8(C);var Le=S;function _interopRequireDefault$8(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$4(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$4(e,t)}function _setPrototypeOf$4(e,t){_setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$4(e,t)}var Re=function(e){_inheritsLoose$4(Pseudo,e);function Pseudo(t){var r;r=e.call(this,t)||this;r.type=Le.PSEUDO;return r}var t=Pseudo.prototype;t.toString=function toString(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")};return Pseudo}($e.default);De.default=Re;De=De.default;var Ie=De;var qe=t;try{"default"in t&&(qe=t.default)}catch(e){}var Ne=r;try{"default"in r&&(Ne=r.default)}catch(e){}var Ae={};Ae.__esModule=true;Ae.default=void 0;Ae.unescapeValue=unescapeValue;var Ce=_interopRequireDefault$7(qe);var Me=_interopRequireDefault$7(e);var je=_interopRequireDefault$7(ye);var Fe=S;var xe;function _interopRequireDefault$7(e){return e&&e.__esModule?e:{default:e}}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){t&&_defineProperties$1(e.prototype,t);r&&_defineProperties$1(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inheritsLoose$3(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$3(e,t)}function _setPrototypeOf$3(e,t){_setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$3(e,t)}var We=Ne;var Ue=/^('|")([^]*)\1$/;var Ye=We((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead.");var Qe=We((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead.");var Be=We((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function unescapeValue(e){var t=false;var r=null;var n=e;var i=n.match(Ue);if(i){r=i[1];n=i[2]}n=(0,Me.default)(n);n!==e&&(t=true);return{deprecatedUsage:t,unescaped:n,quoteMark:r}}function handleDeprecatedContructorOpts(e){if(e.quoteMark!==void 0)return e;if(e.value===void 0)return e;Be();var t=unescapeValue(e.value),r=t.quoteMark,n=t.unescaped;e.raws||(e.raws={});e.raws.value===void 0&&(e.raws.value=e.value);e.value=n;e.quoteMark=r;return e}var Ge=function(e){_inheritsLoose$3(Attribute,e);function Attribute(t){var r;t===void 0&&(t={});r=e.call(this,handleDeprecatedContructorOpts(t))||this;r.type=Fe.ATTRIBUTE;r.raws=r.raws||{};Object.defineProperty(r.raws,"unquoted",{get:We((function(){return r.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:We((function(){return r.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")});r._constructed=true;return r}var t=Attribute.prototype;t.getQuotedValue=function getQuotedValue(e){e===void 0&&(e={});var t=this._determineQuoteMark(e);var r=Ve[t];var n=(0,Ce.default)(this._value,r);return n};t._determineQuoteMark=function _determineQuoteMark(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)};t.setValue=function setValue(e,t){t===void 0&&(t={});this._value=e;this._quoteMark=this._determineQuoteMark(t);this._syncRawValue()}
/**
   * Intelligently select a quoteMark value based on the value's contents. If
   * the value is a legal CSS ident, it will not be quoted. Otherwise a quote
   * mark will be picked that minimizes the number of escapes.
   *
   * If there's no clear winner, the quote mark from these options is used,
   * then the source quote mark (this is inverted if `preferCurrentQuoteMark` is
   * true). If the quoteMark is unspecified, a double quote is used.
   *
   * @param options This takes the quoteMark and preferCurrentQuoteMark options
   * from the quoteValue method.
   */;t.smartQuoteMark=function smartQuoteMark(e){var t=this.value;var r=t.replace(/[^']/g,"").length;var n=t.replace(/[^"]/g,"").length;if(r+n===0){var i=(0,Ce.default)(t,{isIdentifier:true});if(i===t)return Attribute.NO_QUOTE;var s=this.preferredQuoteMark(e);if(s===Attribute.NO_QUOTE){var o=this.quoteMark||e.quoteMark||Attribute.DOUBLE_QUOTE;var a=Ve[o];var u=(0,Ce.default)(t,a);if(u.length<i.length)return o}return s}return n===r?this.preferredQuoteMark(e):n<r?Attribute.DOUBLE_QUOTE:Attribute.SINGLE_QUOTE};t.preferredQuoteMark=function preferredQuoteMark(e){var t=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;t===void 0&&(t=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark);t===void 0&&(t=Attribute.DOUBLE_QUOTE);return t};t._syncRawValue=function _syncRawValue(){var e=(0,Ce.default)(this._value,Ve[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e};t._handleEscapes=function _handleEscapes(e,t){if(this._constructed){var r=(0,Ce.default)(t,{isIdentifier:true});r!==t?this.raws[e]=r:delete this.raws[e]}};t._spacesFor=function _spacesFor(e){var t={before:"",after:""};var r=this.spaces[e]||{};var n=this.raws.spaces&&this.raws.spaces[e]||{};return Object.assign(t,r,n)};t._stringFor=function _stringFor(e,t,r){t===void 0&&(t=e);r===void 0&&(r=defaultAttrConcat);var n=this._spacesFor(t);return r(this.stringifyProperty(e),n)}
/**
   * returns the offset of the attribute part specified relative to the
   * start of the node of the output string.
   *
   * * "ns" - alias for "namespace"
   * * "namespace" - the namespace if it exists.
   * * "attribute" - the attribute name
   * * "attributeNS" - the start of the attribute or its namespace
   * * "operator" - the match operator of the attribute
   * * "value" - The value (string or identifier)
   * * "insensitive" - the case insensitivity flag;
   * @param part One of the possible values inside an attribute.
   * @returns -1 if the name is invalid or the value doesn't exist in this attribute.
   */;t.offsetOf=function offsetOf(e){var t=1;var r=this._spacesFor("attribute");t+=r.before.length;if(e==="namespace"||e==="ns")return this.namespace?t:-1;if(e==="attributeNS")return t;t+=this.namespaceString.length;this.namespace&&(t+=1);if(e==="attribute")return t;t+=this.stringifyProperty("attribute").length;t+=r.after.length;var n=this._spacesFor("operator");t+=n.before.length;var i=this.stringifyProperty("operator");if(e==="operator")return i?t:-1;t+=i.length;t+=n.after.length;var s=this._spacesFor("value");t+=s.before.length;var o=this.stringifyProperty("value");if(e==="value")return o?t:-1;t+=o.length;t+=s.after.length;var a=this._spacesFor("insensitive");t+=a.before.length;return e==="insensitive"&&this.insensitive?t:-1};t.toString=function toString(){var e=this;var t=[this.rawSpaceBefore,"["];t.push(this._stringFor("qualifiedAttribute","attribute"));if(this.operator&&(this.value||this.value==="")){t.push(this._stringFor("operator"));t.push(this._stringFor("value"));t.push(this._stringFor("insensitiveFlag","insensitive",(function(t,r){!(t.length>0)||e.quoted||r.before.length!==0||e.spaces.value&&e.spaces.value.after||(r.before=" ");return defaultAttrConcat(t,r)})))}t.push("]");t.push(this.rawSpaceAfter);return t.join("")};_createClass$1(Attribute,[{key:"quoted",get:function get(){var e=this.quoteMark;return e==="'"||e==='"'},set:function set(e){Qe()}},{key:"quoteMark",get:function get(){return this._quoteMark}
/**
     * Set the quote mark to be used by this attribute's value.
     * If the quote mark changes, the raw (escaped) value at `attr.raws.value` of the attribute
     * value is updated accordingly.
     *
     * @param {"'" | '"' | null} quoteMark The quote mark or `null` if the value should be unquoted.
     */,set:function set(e){if(this._constructed){if(this._quoteMark!==e){this._quoteMark=e;this._syncRawValue()}}else this._quoteMark=e}},{key:"qualifiedAttribute",get:function get(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function get(){return this.insensitive?"i":""}},{key:"value",get:function get(){return this._value},set:function set(e){if(this._constructed){var t=unescapeValue(e),r=t.deprecatedUsage,n=t.unescaped,i=t.quoteMark;r&&Ye();if(n===this._value&&i===this._quoteMark)return;this._value=n;this._quoteMark=i;this._syncRawValue()}else this._value=e}},{key:"insensitive",get:function get(){return this._insensitive}
/**
     * Set the case insensitive flag.
     * If the case insensitive flag changes, the raw (escaped) value at `attr.raws.insensitiveFlag`
     * of the attribute is updated accordingly.
     *
     * @param {true | false} insensitive true if the attribute should match case-insensitively.
     */,set:function set(e){if(!e){this._insensitive=false;!this.raws||this.raws.insensitiveFlag!=="I"&&this.raws.insensitiveFlag!=="i"||(this.raws.insensitiveFlag=void 0)}this._insensitive=e}},{key:"attribute",get:function get(){return this._attribute},set:function set(e){this._handleEscapes("attribute",e);this._attribute=e}}]);return Attribute}(je.default);Ae.default=Ge;Ge.NO_QUOTE=null;Ge.SINGLE_QUOTE="'";Ge.DOUBLE_QUOTE='"';var Ve=(xe={"'":{quotes:"single",wrap:true},'"':{quotes:"double",wrap:true}},xe.null={isIdentifier:true},xe);function defaultAttrConcat(e,t){return""+t.before+e+t.after}var ze={};ze.__esModule=true;ze.default=void 0;var He=_interopRequireDefault$6(ye);var Je=S;function _interopRequireDefault$6(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$2(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$2(e,t)}function _setPrototypeOf$2(e,t){_setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$2(e,t)}var Ke=function(e){_inheritsLoose$2(Universal,e);function Universal(t){var r;r=e.call(this,t)||this;r.type=Je.UNIVERSAL;r.value="*";return r}return Universal}(He.default);ze.default=Ke;ze=ze.default;var Xe=ze;var Ze={};Ze.__esModule=true;Ze.default=void 0;var et=_interopRequireDefault$5(b);var tt=S;function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose$1(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){_setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$1(e,t)}var rt=function(e){_inheritsLoose$1(Combinator,e);function Combinator(t){var r;r=e.call(this,t)||this;r.type=tt.COMBINATOR;return r}return Combinator}(et.default);Ze.default=rt;Ze=Ze.default;var nt=Ze;var it={};it.__esModule=true;it.default=void 0;var st=_interopRequireDefault$4(b);var ot=S;function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}var ut=function(e){_inheritsLoose(Nesting,e);function Nesting(t){var r;r=e.call(this,t)||this;r.type=ot.NESTING;r.value="&";return r}return Nesting}(st.default);it.default=ut;it=it.default;var ct=it;var ft={};ft.__esModule=true;ft.default=sortAscending;function sortAscending(e){return e.sort((function(e,t){return e-t}))}ft=ft.default;var lt=ft;var pt={};pt.__esModule=true;pt.word=pt.tilde=pt.tab=pt.str=pt.space=pt.slash=pt.singleQuote=pt.semicolon=pt.plus=pt.pipe=pt.openSquare=pt.openParenthesis=pt.newline=pt.greaterThan=pt.feed=pt.equals=pt.doubleQuote=pt.dollar=pt.cr=pt.comment=pt.comma=pt.combinator=pt.colon=pt.closeSquare=pt.closeParenthesis=pt.caret=pt.bang=pt.backslash=pt.at=pt.asterisk=pt.ampersand=void 0;var ht=38;pt.ampersand=ht;var dt=42;pt.asterisk=dt;var vt=64;pt.at=vt;var _t=44;pt.comma=_t;var yt=58;pt.colon=yt;var bt=59;pt.semicolon=bt;var St=40;pt.openParenthesis=St;var Ot=41;pt.closeParenthesis=Ot;var gt=91;pt.openSquare=gt;var Tt=93;pt.closeSquare=Tt;var Pt=36;pt.dollar=Pt;var kt=126;pt.tilde=kt;var wt=94;pt.caret=wt;var mt=43;pt.plus=mt;var Et=61;pt.equals=Et;var Dt=124;pt.pipe=Dt;var $t=62;pt.greaterThan=$t;var Lt=32;pt.space=Lt;var Rt=39;pt.singleQuote=Rt;var It=34;pt.doubleQuote=It;var qt=47;pt.slash=qt;var Nt=33;pt.bang=Nt;var At=92;pt.backslash=At;var Ct=13;pt.cr=Ct;var Mt=12;pt.feed=Mt;var jt=10;pt.newline=jt;var Ft=9;pt.tab=Ft;var xt=Rt;pt.str=xt;var Wt=-1;pt.comment=Wt;var Ut=-2;pt.word=Ut;var Yt=-3;pt.combinator=Yt;var Qt={};Qt.__esModule=true;Qt.FIELDS=void 0;Qt.default=tokenize;var Bt=_interopRequireWildcard$2(pt);var Gt,Vt;function _getRequireWildcardCache$2(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache$2=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard$2(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var r=_getRequireWildcardCache$2(t);if(r&&r.has(e))return r.get(e);var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e;r&&r.set(e,n);return n}var zt=(Gt={},Gt[Bt.tab]=true,Gt[Bt.newline]=true,Gt[Bt.cr]=true,Gt[Bt.feed]=true,Gt);var Ht=(Vt={},Vt[Bt.space]=true,Vt[Bt.tab]=true,Vt[Bt.newline]=true,Vt[Bt.cr]=true,Vt[Bt.feed]=true,Vt[Bt.ampersand]=true,Vt[Bt.asterisk]=true,Vt[Bt.bang]=true,Vt[Bt.comma]=true,Vt[Bt.colon]=true,Vt[Bt.semicolon]=true,Vt[Bt.openParenthesis]=true,Vt[Bt.closeParenthesis]=true,Vt[Bt.openSquare]=true,Vt[Bt.closeSquare]=true,Vt[Bt.singleQuote]=true,Vt[Bt.doubleQuote]=true,Vt[Bt.plus]=true,Vt[Bt.pipe]=true,Vt[Bt.tilde]=true,Vt[Bt.greaterThan]=true,Vt[Bt.equals]=true,Vt[Bt.dollar]=true,Vt[Bt.caret]=true,Vt[Bt.slash]=true,Vt);var Jt={};var Kt="0123456789abcdefABCDEF";for(var Xt=0;Xt<Kt.length;Xt++)Jt[Kt.charCodeAt(Xt)]=true;
/**
 *  Returns the last index of the bar css word
 * @param {string} css The string in which the word begins
 * @param {number} start The index into the string where word's first letter occurs
 */function consumeWord(e,t){var r=t;var n;do{n=e.charCodeAt(r);if(Ht[n])return r-1;n===Bt.backslash?r=consumeEscape(e,r)+1:r++}while(r<e.length);return r-1}
/**
 *  Returns the last index of the escape sequence
 * @param {string} css The string in which the sequence begins
 * @param {number} start The index into the string where escape character (`\`) occurs.
 */function consumeEscape(e,t){var r=t;var n=e.charCodeAt(r+1);if(zt[n]);else if(Jt[n]){var i=0;do{r++;i++;n=e.charCodeAt(r+1)}while(Jt[n]&&i<6);i<6&&n===Bt.space&&r++}else r++;return r}var Zt={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6};Qt.FIELDS=Zt;function tokenize(e){var t=[];var r=e.css.valueOf();var n=r,i=n.length;var s=-1;var o=1;var a=0;var u=0;var c,f,l,p,h,d,v,_,y,b,S,O,g;function unclosed(t,n){if(!e.safe)throw e.error("Unclosed "+t,o,a-s,a);r+=n;y=r.length-1}while(a<i){c=r.charCodeAt(a);if(c===Bt.newline){s=a;o+=1}switch(c){case Bt.space:case Bt.tab:case Bt.newline:case Bt.cr:case Bt.feed:y=a;do{y+=1;c=r.charCodeAt(y);if(c===Bt.newline){s=y;o+=1}}while(c===Bt.space||c===Bt.newline||c===Bt.tab||c===Bt.cr||c===Bt.feed);g=Bt.space;p=o;l=y-s-1;u=y;break;case Bt.plus:case Bt.greaterThan:case Bt.tilde:case Bt.pipe:y=a;do{y+=1;c=r.charCodeAt(y)}while(c===Bt.plus||c===Bt.greaterThan||c===Bt.tilde||c===Bt.pipe);g=Bt.combinator;p=o;l=a-s;u=y;break;case Bt.asterisk:case Bt.ampersand:case Bt.bang:case Bt.comma:case Bt.equals:case Bt.dollar:case Bt.caret:case Bt.openSquare:case Bt.closeSquare:case Bt.colon:case Bt.semicolon:case Bt.openParenthesis:case Bt.closeParenthesis:y=a;g=c;p=o;l=a-s;u=y+1;break;case Bt.singleQuote:case Bt.doubleQuote:O=c===Bt.singleQuote?"'":'"';y=a;do{h=false;y=r.indexOf(O,y+1);y===-1&&unclosed("quote",O);d=y;while(r.charCodeAt(d-1)===Bt.backslash){d-=1;h=!h}}while(h);g=Bt.str;p=o;l=a-s;u=y+1;break;default:if(c===Bt.slash&&r.charCodeAt(a+1)===Bt.asterisk){y=r.indexOf("*/",a+2)+1;y===0&&unclosed("comment","*/");f=r.slice(a,y+1);_=f.split("\n");v=_.length-1;if(v>0){b=o+v;S=y-_[v].length}else{b=o;S=s}g=Bt.comment;o=b;p=b;l=y-S}else if(c===Bt.slash){y=a;g=c;p=o;l=a-s;u=y+1}else{y=consumeWord(r,a);g=Bt.word;p=o;l=y-s}u=y+1;break}t.push([g,o,a-s,p,l,a,u]);if(S){s=S;S=null}a=u}return t}var er={};er.__esModule=true;er.default=void 0;var tr=_interopRequireDefault$3(W);var rr=_interopRequireDefault$3(G);var nr=_interopRequireDefault$3(ee);var ir=_interopRequireDefault$3(se);var sr=_interopRequireDefault$3(fe);var or=_interopRequireDefault$3(Te);var ar=_interopRequireDefault$3(Ee);var ur=_interopRequireDefault$3(Ie);var cr=_interopRequireWildcard$1(Ae);var fr=_interopRequireDefault$3(Xe);var lr=_interopRequireDefault$3(nt);var pr=_interopRequireDefault$3(ct);var hr=_interopRequireDefault$3(lt);var dr=_interopRequireWildcard$1(Qt);var vr=_interopRequireWildcard$1(pt);var _r=_interopRequireWildcard$1(S);var yr=c;var br,Sr;function _getRequireWildcardCache$1(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache$1=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard$1(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var r=_getRequireWildcardCache$1(t);if(r&&r.has(e))return r.get(e);var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e;r&&r.set(e,n);return n}function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){t&&_defineProperties(e.prototype,t);r&&_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var Or=(br={},br[vr.space]=true,br[vr.cr]=true,br[vr.feed]=true,br[vr.newline]=true,br[vr.tab]=true,br);var gr=Object.assign({},Or,(Sr={},Sr[vr.comment]=true,Sr));function tokenStart(e){return{line:e[dr.FIELDS.START_LINE],column:e[dr.FIELDS.START_COL]}}function tokenEnd(e){return{line:e[dr.FIELDS.END_LINE],column:e[dr.FIELDS.END_COL]}}function getSource(e,t,r,n){return{start:{line:e,column:t},end:{line:r,column:n}}}function getTokenSource(e){return getSource(e[dr.FIELDS.START_LINE],e[dr.FIELDS.START_COL],e[dr.FIELDS.END_LINE],e[dr.FIELDS.END_COL])}function getTokenSourceSpan(e,t){if(e)return getSource(e[dr.FIELDS.START_LINE],e[dr.FIELDS.START_COL],t[dr.FIELDS.END_LINE],t[dr.FIELDS.END_COL])}function unescapeProp(e,t){var r=e[t];if(typeof r==="string"){if(r.indexOf("\\")!==-1){(0,yr.ensureObject)(e,"raws");e[t]=(0,yr.unesc)(r);e.raws[t]===void 0&&(e.raws[t]=r)}return e}}function indexesOf(e,t){var r=-1;var n=[];while((r=e.indexOf(t,r+1))!==-1)n.push(r);return n}function uniqs(){var e=Array.prototype.concat.apply([],arguments);return e.filter((function(t,r){return r===e.indexOf(t)}))}var Tr=function(){function Parser(e,t){t===void 0&&(t={});this.rule=e;this.options=Object.assign({lossy:false,safe:false},t);this.position=0;this.css=typeof this.rule==="string"?this.rule:this.rule.selector;this.tokens=(0,dr.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var r=getTokenSourceSpan(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new tr.default({source:r});this.root.errorGenerator=this._errorGenerator();var n=new rr.default({source:{start:{line:1,column:1}}});this.root.append(n);this.current=n;this.loop()}var e=Parser.prototype;e._errorGenerator=function _errorGenerator(){var e=this;return function(t,r){return typeof e.rule==="string"?new Error(t):e.rule.error(t,r)}};e.attribute=function attribute(){var e=[];var t=this.currToken;this.position++;while(this.position<this.tokens.length&&this.currToken[dr.FIELDS.TYPE]!==vr.closeSquare){e.push(this.currToken);this.position++}if(this.currToken[dr.FIELDS.TYPE]!==vr.closeSquare)return this.expected("closing square bracket",this.currToken[dr.FIELDS.START_POS]);var r=e.length;var n={source:getSource(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[dr.FIELDS.START_POS]};if(r===1&&!~[vr.word].indexOf(e[0][dr.FIELDS.TYPE]))return this.expected("attribute",e[0][dr.FIELDS.START_POS]);var i=0;var s="";var o="";var a=null;var u=false;while(i<r){var c=e[i];var f=this.content(c);var l=e[i+1];switch(c[dr.FIELDS.TYPE]){case vr.space:u=true;if(this.options.lossy)break;if(a){(0,yr.ensureObject)(n,"spaces",a);var p=n.spaces[a].after||"";n.spaces[a].after=p+f;var h=(0,yr.getProp)(n,"raws","spaces",a,"after")||null;h&&(n.raws.spaces[a].after=h+f)}else{s+=f;o+=f}break;case vr.asterisk:if(l[dr.FIELDS.TYPE]===vr.equals){n.operator=f;a="operator"}else if((!n.namespace||a==="namespace"&&!u)&&l){if(s){(0,yr.ensureObject)(n,"spaces","attribute");n.spaces.attribute.before=s;s=""}if(o){(0,yr.ensureObject)(n,"raws","spaces","attribute");n.raws.spaces.attribute.before=s;o=""}n.namespace=(n.namespace||"")+f;var d=(0,yr.getProp)(n,"raws","namespace")||null;d&&(n.raws.namespace+=f);a="namespace"}u=false;break;case vr.dollar:if(a==="value"){var v=(0,yr.getProp)(n,"raws","value");n.value+="$";v&&(n.raws.value=v+"$");break}case vr.caret:if(l[dr.FIELDS.TYPE]===vr.equals){n.operator=f;a="operator"}u=false;break;case vr.combinator:if(f==="~"&&l[dr.FIELDS.TYPE]===vr.equals){n.operator=f;a="operator"}if(f!=="|"){u=false;break}if(l[dr.FIELDS.TYPE]===vr.equals){n.operator=f;a="operator"}else n.namespace||n.attribute||(n.namespace=true);u=false;break;case vr.word:if(l&&this.content(l)==="|"&&e[i+2]&&e[i+2][dr.FIELDS.TYPE]!==vr.equals&&!n.operator&&!n.namespace){n.namespace=f;a="namespace"}else if(!n.attribute||a==="attribute"&&!u){if(s){(0,yr.ensureObject)(n,"spaces","attribute");n.spaces.attribute.before=s;s=""}if(o){(0,yr.ensureObject)(n,"raws","spaces","attribute");n.raws.spaces.attribute.before=o;o=""}n.attribute=(n.attribute||"")+f;var _=(0,yr.getProp)(n,"raws","attribute")||null;_&&(n.raws.attribute+=f);a="attribute"}else if(!n.value&&n.value!==""||a==="value"&&!(u||n.quoteMark)){var y=(0,yr.unesc)(f);var b=(0,yr.getProp)(n,"raws","value")||"";var S=n.value||"";n.value=S+y;n.quoteMark=null;if(y!==f||b){(0,yr.ensureObject)(n,"raws");n.raws.value=(b||S)+f}a="value"}else{var O=f==="i"||f==="I";if(!n.value&&n.value!==""||!n.quoteMark&&!u){if(n.value||n.value===""){a="value";n.value+=f;n.raws.value&&(n.raws.value+=f)}}else{n.insensitive=O;if(!O||f==="I"){(0,yr.ensureObject)(n,"raws");n.raws.insensitiveFlag=f}a="insensitive";if(s){(0,yr.ensureObject)(n,"spaces","insensitive");n.spaces.insensitive.before=s;s=""}if(o){(0,yr.ensureObject)(n,"raws","spaces","insensitive");n.raws.spaces.insensitive.before=o;o=""}}}u=false;break;case vr.str:if(!n.attribute||!n.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:c[dr.FIELDS.START_POS]});var g=(0,cr.unescapeValue)(f),T=g.unescaped,P=g.quoteMark;n.value=T;n.quoteMark=P;a="value";(0,yr.ensureObject)(n,"raws");n.raws.value=f;u=false;break;case vr.equals:if(!n.attribute)return this.expected("attribute",c[dr.FIELDS.START_POS],f);if(n.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:c[dr.FIELDS.START_POS]});n.operator=n.operator?n.operator+f:f;a="operator";u=false;break;case vr.comment:if(a)if(u||l&&l[dr.FIELDS.TYPE]===vr.space||a==="insensitive"){var k=(0,yr.getProp)(n,"spaces",a,"after")||"";var w=(0,yr.getProp)(n,"raws","spaces",a,"after")||k;(0,yr.ensureObject)(n,"raws","spaces",a);n.raws.spaces[a].after=w+f}else{var m=n[a]||"";var E=(0,yr.getProp)(n,"raws",a)||m;(0,yr.ensureObject)(n,"raws");n.raws[a]=E+f}else o+=f;break;default:return this.error('Unexpected "'+f+'" found.',{index:c[dr.FIELDS.START_POS]})}i++}unescapeProp(n,"attribute");unescapeProp(n,"namespace");this.newNode(new cr.default(n));this.position++};e.parseWhitespaceEquivalentTokens=function parseWhitespaceEquivalentTokens(e){e<0&&(e=this.tokens.length);var t=this.position;var r=[];var n="";var i=void 0;do{if(Or[this.currToken[dr.FIELDS.TYPE]])this.options.lossy||(n+=this.content());else if(this.currToken[dr.FIELDS.TYPE]===vr.comment){var s={};if(n){s.before=n;n=""}i=new ir.default({value:this.content(),source:getTokenSource(this.currToken),sourceIndex:this.currToken[dr.FIELDS.START_POS],spaces:s});r.push(i)}}while(++this.position<e);if(n)if(i)i.spaces.after=n;else if(!this.options.lossy){var o=this.tokens[t];var a=this.tokens[this.position-1];r.push(new ar.default({value:"",source:getSource(o[dr.FIELDS.START_LINE],o[dr.FIELDS.START_COL],a[dr.FIELDS.END_LINE],a[dr.FIELDS.END_COL]),sourceIndex:o[dr.FIELDS.START_POS],spaces:{before:n,after:""}}))}return r}
/**
   *
   * @param {*} nodes
   */;e.convertWhitespaceNodesToSpace=function convertWhitespaceNodesToSpace(e,t){var r=this;t===void 0&&(t=false);var n="";var i="";e.forEach((function(e){var s=r.lossySpace(e.spaces.before,t);var o=r.lossySpace(e.rawSpaceBefore,t);n+=s+r.lossySpace(e.spaces.after,t&&s.length===0);i+=s+e.value+r.lossySpace(e.rawSpaceAfter,t&&o.length===0)}));i===n&&(i=void 0);var s={space:n,rawSpace:i};return s};e.isNamedCombinator=function isNamedCombinator(e){e===void 0&&(e=this.position);return this.tokens[e+0]&&this.tokens[e+0][dr.FIELDS.TYPE]===vr.slash&&this.tokens[e+1]&&this.tokens[e+1][dr.FIELDS.TYPE]===vr.word&&this.tokens[e+2]&&this.tokens[e+2][dr.FIELDS.TYPE]===vr.slash};e.namedCombinator=function namedCombinator(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]);var t=(0,yr.unesc)(e).toLowerCase();var r={};t!==e&&(r.value="/"+e+"/");var n=new lr.default({value:"/"+t+"/",source:getSource(this.currToken[dr.FIELDS.START_LINE],this.currToken[dr.FIELDS.START_COL],this.tokens[this.position+2][dr.FIELDS.END_LINE],this.tokens[this.position+2][dr.FIELDS.END_COL]),sourceIndex:this.currToken[dr.FIELDS.START_POS],raws:r});this.position=this.position+3;return n}this.unexpected()};e.combinator=function combinator(){var e=this;if(this.content()==="|")return this.namespace();var t=this.locateNextMeaningfulToken(this.position);if(!(t<0||this.tokens[t][dr.FIELDS.TYPE]===vr.comma)){var r=this.currToken;var n=void 0;t>this.position&&(n=this.parseWhitespaceEquivalentTokens(t));var i;if(this.isNamedCombinator())i=this.namedCombinator();else if(this.currToken[dr.FIELDS.TYPE]===vr.combinator){i=new lr.default({value:this.content(),source:getTokenSource(this.currToken),sourceIndex:this.currToken[dr.FIELDS.START_POS]});this.position++}else Or[this.currToken[dr.FIELDS.TYPE]]||n||this.unexpected();if(i){if(n){var s=this.convertWhitespaceNodesToSpace(n),o=s.space,a=s.rawSpace;i.spaces.before=o;i.rawSpaceBefore=a}}else{var u=this.convertWhitespaceNodesToSpace(n,true),c=u.space,f=u.rawSpace;f||(f=c);var l={};var p={spaces:{}};if(c.endsWith(" ")&&f.endsWith(" ")){l.before=c.slice(0,c.length-1);p.spaces.before=f.slice(0,f.length-1)}else if(c.startsWith(" ")&&f.startsWith(" ")){l.after=c.slice(1);p.spaces.after=f.slice(1)}else p.value=f;i=new lr.default({value:" ",source:getTokenSourceSpan(r,this.tokens[this.position-1]),sourceIndex:r[dr.FIELDS.START_POS],spaces:l,raws:p})}if(this.currToken&&this.currToken[dr.FIELDS.TYPE]===vr.space){i.spaces.after=this.optionalSpace(this.content());this.position++}return this.newNode(i)}var h=this.parseWhitespaceEquivalentTokens(t);if(h.length>0){var d=this.current.last;if(d){var v=this.convertWhitespaceNodesToSpace(h),_=v.space,y=v.rawSpace;y!==void 0&&(d.rawSpaceAfter+=y);d.spaces.after+=_}else h.forEach((function(t){return e.newNode(t)}))}};e.comma=function comma(){if(this.position!==this.tokens.length-1){this.current._inferEndPosition();var e=new rr.default({source:{start:tokenStart(this.tokens[this.position+1])}});this.current.parent.append(e);this.current=e;this.position++}else{this.root.trailingComma=true;this.position++}};e.comment=function comment(){var e=this.currToken;this.newNode(new ir.default({value:this.content(),source:getTokenSource(e),sourceIndex:e[dr.FIELDS.START_POS]}));this.position++};e.error=function error(e,t){throw this.root.error(e,t)};e.missingBackslash=function missingBackslash(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[dr.FIELDS.START_POS]})};e.missingParenthesis=function missingParenthesis(){return this.expected("opening parenthesis",this.currToken[dr.FIELDS.START_POS])};e.missingSquareBracket=function missingSquareBracket(){return this.expected("opening square bracket",this.currToken[dr.FIELDS.START_POS])};e.unexpected=function unexpected(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[dr.FIELDS.START_POS])};e.unexpectedPipe=function unexpectedPipe(){return this.error("Unexpected '|'.",this.currToken[dr.FIELDS.START_POS])};e.namespace=function namespace(){var e=this.prevToken&&this.content(this.prevToken)||true;if(this.nextToken[dr.FIELDS.TYPE]===vr.word){this.position++;return this.word(e)}if(this.nextToken[dr.FIELDS.TYPE]===vr.asterisk){this.position++;return this.universal(e)}this.unexpectedPipe()};e.nesting=function nesting(){if(this.nextToken){var e=this.content(this.nextToken);if(e==="|"){this.position++;return}}var t=this.currToken;this.newNode(new pr.default({value:this.content(),source:getTokenSource(t),sourceIndex:t[dr.FIELDS.START_POS]}));this.position++};e.parentheses=function parentheses(){var e=this.current.last;var t=1;this.position++;if(e&&e.type===_r.PSEUDO){var r=new rr.default({source:{start:tokenStart(this.tokens[this.position-1])}});var n=this.current;e.append(r);this.current=r;while(this.position<this.tokens.length&&t){this.currToken[dr.FIELDS.TYPE]===vr.openParenthesis&&t++;this.currToken[dr.FIELDS.TYPE]===vr.closeParenthesis&&t--;if(t)this.parse();else{this.current.source.end=tokenEnd(this.currToken);this.current.parent.source.end=tokenEnd(this.currToken);this.position++}}this.current=n}else{var i=this.currToken;var s="(";var o;while(this.position<this.tokens.length&&t){this.currToken[dr.FIELDS.TYPE]===vr.openParenthesis&&t++;this.currToken[dr.FIELDS.TYPE]===vr.closeParenthesis&&t--;o=this.currToken;s+=this.parseParenthesisToken(this.currToken);this.position++}e?e.appendToPropertyAndEscape("value",s,s):this.newNode(new ar.default({value:s,source:getSource(i[dr.FIELDS.START_LINE],i[dr.FIELDS.START_COL],o[dr.FIELDS.END_LINE],o[dr.FIELDS.END_COL]),sourceIndex:i[dr.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[dr.FIELDS.START_POS])};e.pseudo=function pseudo(){var e=this;var t="";var r=this.currToken;while(this.currToken&&this.currToken[dr.FIELDS.TYPE]===vr.colon){t+=this.content();this.position++}if(!this.currToken)return this.expected(["pseudo-class","pseudo-element"],this.position-1);if(this.currToken[dr.FIELDS.TYPE]!==vr.word)return this.expected(["pseudo-class","pseudo-element"],this.currToken[dr.FIELDS.START_POS]);this.splitWord(false,(function(n,i){t+=n;e.newNode(new ur.default({value:t,source:getTokenSourceSpan(r,e.currToken),sourceIndex:r[dr.FIELDS.START_POS]}));i>1&&e.nextToken&&e.nextToken[dr.FIELDS.TYPE]===vr.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[dr.FIELDS.START_POS]})}))};e.space=function space(){var e=this.content();if(this.position===0||this.prevToken[dr.FIELDS.TYPE]===vr.comma||this.prevToken[dr.FIELDS.TYPE]===vr.openParenthesis||this.current.nodes.every((function(e){return e.type==="comment"}))){this.spaces=this.optionalSpace(e);this.position++}else if(this.position===this.tokens.length-1||this.nextToken[dr.FIELDS.TYPE]===vr.comma||this.nextToken[dr.FIELDS.TYPE]===vr.closeParenthesis){this.current.last.spaces.after=this.optionalSpace(e);this.position++}else this.combinator()};e.string=function string(){var e=this.currToken;this.newNode(new ar.default({value:this.content(),source:getTokenSource(e),sourceIndex:e[dr.FIELDS.START_POS]}));this.position++};e.universal=function universal(e){var t=this.nextToken;if(t&&this.content(t)==="|"){this.position++;return this.namespace()}var r=this.currToken;this.newNode(new fr.default({value:this.content(),source:getTokenSource(r),sourceIndex:r[dr.FIELDS.START_POS]}),e);this.position++};e.splitWord=function splitWord(e,t){var r=this;var n=this.nextToken;var i=this.content();while(n&&~[vr.dollar,vr.caret,vr.equals,vr.word].indexOf(n[dr.FIELDS.TYPE])){this.position++;var s=this.content();i+=s;if(s.lastIndexOf("\\")===s.length-1){var o=this.nextToken;if(o&&o[dr.FIELDS.TYPE]===vr.space){i+=this.requiredSpace(this.content(o));this.position++}}n=this.nextToken}var a=indexesOf(i,".").filter((function(e){var t=i[e-1]==="\\";var r=/^\d+\.\d+%$/.test(i);return!t&&!r}));var u=indexesOf(i,"#").filter((function(e){return i[e-1]!=="\\"}));var c=indexesOf(i,"#{");c.length&&(u=u.filter((function(e){return!~c.indexOf(e)})));var f=(0,hr.default)(uniqs([0].concat(a,u)));f.forEach((function(n,s){var o=f[s+1]||i.length;var c=i.slice(n,o);if(s===0&&t)return t.call(r,c,f.length);var l;var p=r.currToken;var h=p[dr.FIELDS.START_POS]+f[s];var d=getSource(p[1],p[2]+n,p[3],p[2]+(o-1));if(~a.indexOf(n)){var v={value:c.slice(1),source:d,sourceIndex:h};l=new nr.default(unescapeProp(v,"value"))}else if(~u.indexOf(n)){var _={value:c.slice(1),source:d,sourceIndex:h};l=new sr.default(unescapeProp(_,"value"))}else{var y={value:c,source:d,sourceIndex:h};unescapeProp(y,"value");l=new or.default(y)}r.newNode(l,e);e=null}));this.position++};e.word=function word(e){var t=this.nextToken;if(t&&this.content(t)==="|"){this.position++;return this.namespace()}return this.splitWord(e)};e.loop=function loop(){while(this.position<this.tokens.length)this.parse(true);this.current._inferEndPosition();return this.root};e.parse=function parse(e){switch(this.currToken[dr.FIELDS.TYPE]){case vr.space:this.space();break;case vr.comment:this.comment();break;case vr.openParenthesis:this.parentheses();break;case vr.closeParenthesis:e&&this.missingParenthesis();break;case vr.openSquare:this.attribute();break;case vr.dollar:case vr.caret:case vr.equals:case vr.word:this.word();break;case vr.colon:this.pseudo();break;case vr.comma:this.comma();break;case vr.asterisk:this.universal();break;case vr.ampersand:this.nesting();break;case vr.slash:case vr.combinator:this.combinator();break;case vr.str:this.string();break;case vr.closeSquare:this.missingSquareBracket();case vr.semicolon:this.missingBackslash();default:this.unexpected()}};e.expected=function expected(e,t,r){if(Array.isArray(e)){var n=e.pop();e=e.join(", ")+" or "+n}var i=/^[aeiou]/.test(e[0])?"an":"a";return r?this.error("Expected "+i+" "+e+', found "'+r+'" instead.',{index:t}):this.error("Expected "+i+" "+e+".",{index:t})};e.requiredSpace=function requiredSpace(e){return this.options.lossy?" ":e};e.optionalSpace=function optionalSpace(e){return this.options.lossy?"":e};e.lossySpace=function lossySpace(e,t){return this.options.lossy?t?" ":"":e};e.parseParenthesisToken=function parseParenthesisToken(e){var t=this.content(e);return e[dr.FIELDS.TYPE]===vr.space?this.requiredSpace(t):t};e.newNode=function newNode(e,t){if(t){if(/^ +$/.test(t)){this.options.lossy||(this.spaces=(this.spaces||"")+t);t=true}e.namespace=t;unescapeProp(e,"namespace")}if(this.spaces){e.spaces.before=this.spaces;this.spaces=""}return this.current.append(e)};e.content=function content(e){e===void 0&&(e=this.currToken);return this.css.slice(e[dr.FIELDS.START_POS],e[dr.FIELDS.END_POS])};e.locateNextMeaningfulToken=function locateNextMeaningfulToken(e){e===void 0&&(e=this.position+1);var t=e;while(t<this.tokens.length){if(!gr[this.tokens[t][dr.FIELDS.TYPE]])return t;t++}return-1};_createClass(Parser,[{key:"currToken",get:function get(){return this.tokens[this.position]}},{key:"nextToken",get:function get(){return this.tokens[this.position+1]}},{key:"prevToken",get:function get(){return this.tokens[this.position-1]}}]);return Parser}();er.default=Tr;er=er.default;var Pr=er;var kr={};kr.__esModule=true;kr.default=void 0;var wr=_interopRequireDefault$2(Pr);function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}var mr=function(){function Processor(e,t){this.func=e||function noop(){};this.funcRes=null;this.options=t}var e=Processor.prototype;e._shouldUpdateSelector=function _shouldUpdateSelector(e,t){t===void 0&&(t={});var r=Object.assign({},this.options,t);return r.updateSelector!==false&&typeof e!=="string"};e._isLossy=function _isLossy(e){e===void 0&&(e={});var t=Object.assign({},this.options,e);return t.lossless===false};e._root=function _root(e,t){t===void 0&&(t={});var r=new wr.default(e,this._parseOptions(t));return r.root};e._parseOptions=function _parseOptions(e){return{lossy:this._isLossy(e)}};e._run=function _run(e,t){var r=this;t===void 0&&(t={});return new Promise((function(n,i){try{var s=r._root(e,t);Promise.resolve(r.func(s)).then((function(n){var i=void 0;if(r._shouldUpdateSelector(e,t)){i=s.toString();e.selector=i}return{transform:n,root:s,string:i}})).then(n,i)}catch(e){i(e);return}}))};e._runSync=function _runSync(e,t){t===void 0&&(t={});var r=this._root(e,t);var n=this.func(r);if(n&&typeof n.then==="function")throw new Error("Selector processor returned a promise to a synchronous call.");var i=void 0;if(t.updateSelector&&typeof e!=="string"){i=r.toString();e.selector=i}return{transform:n,root:r,string:i}}
/**
   * Process rule into a selector AST.
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {Promise<parser.Root>} The AST of the selector after processing it.
   */;e.ast=function ast(e,t){return this._run(e,t).then((function(e){return e.root}))}
/**
   * Process rule into a selector AST synchronously.
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {parser.Root} The AST of the selector after processing it.
   */;e.astSync=function astSync(e,t){return this._runSync(e,t).root}
/**
   * Process a selector into a transformed value asynchronously
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {Promise<any>} The value returned by the processor.
   */;e.transform=function transform(e,t){return this._run(e,t).then((function(e){return e.transform}))}
/**
   * Process a selector into a transformed value synchronously.
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {any} The value returned by the processor.
   */;e.transformSync=function transformSync(e,t){return this._runSync(e,t).transform}
/**
   * Process a selector into a new selector string asynchronously.
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {string} the selector after processing.
   */;e.process=function process(e,t){return this._run(e,t).then((function(e){return e.string||e.root.toString()}))}
/**
   * Process a selector into a new selector string synchronously.
   *
   * @param rule {postcss.Rule | string} The css selector to be processed
   * @param options The options for processing
   * @returns {string} the selector after processing.
   */;e.processSync=function processSync(e,t){var r=this._runSync(e,t);return r.string||r.root.toString()};return Processor}();kr.default=mr;kr=kr.default;var Er=kr;var Dr={};Dr.__esModule=true;Dr.universal=Dr.tag=Dr.string=Dr.selector=Dr.root=Dr.pseudo=Dr.nesting=Dr.id=Dr.comment=Dr.combinator=Dr.className=Dr.attribute=void 0;var $r=_interopRequireDefault$1(Ae);var Lr=_interopRequireDefault$1(ee);var Rr=_interopRequireDefault$1(nt);var Ir=_interopRequireDefault$1(se);var qr=_interopRequireDefault$1(fe);var Nr=_interopRequireDefault$1(ct);var Ar=_interopRequireDefault$1(Ie);var Cr=_interopRequireDefault$1(W);var Mr=_interopRequireDefault$1(G);var jr=_interopRequireDefault$1(Ee);var Fr=_interopRequireDefault$1(Te);var xr=_interopRequireDefault$1(Xe);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}var Wr=function attribute(e){return new $r.default(e)};Dr.attribute=Wr;var Ur=function className(e){return new Lr.default(e)};Dr.className=Ur;var Yr=function combinator(e){return new Rr.default(e)};Dr.combinator=Yr;var Qr=function comment(e){return new Ir.default(e)};Dr.comment=Qr;var Br=function id(e){return new qr.default(e)};Dr.id=Br;var Gr=function nesting(e){return new Nr.default(e)};Dr.nesting=Gr;var Vr=function pseudo(e){return new Ar.default(e)};Dr.pseudo=Vr;var zr=function root(e){return new Cr.default(e)};Dr.root=zr;var Hr=function selector(e){return new Mr.default(e)};Dr.selector=Hr;var Jr=function string(e){return new jr.default(e)};Dr.string=Jr;var Kr=function tag(e){return new Fr.default(e)};Dr.tag=Kr;var Xr=function universal(e){return new xr.default(e)};Dr.universal=Xr;var Zr={};Zr.__esModule=true;Zr.isComment=Zr.isCombinator=Zr.isClassName=Zr.isAttribute=void 0;Zr.isContainer=isContainer;Zr.isIdentifier=void 0;Zr.isNamespace=isNamespace;Zr.isNesting=void 0;Zr.isNode=isNode;Zr.isPseudo=void 0;Zr.isPseudoClass=isPseudoClass;Zr.isPseudoElement=isPseudoElement;Zr.isUniversal=Zr.isTag=Zr.isString=Zr.isSelector=Zr.isRoot=void 0;var en=S;var tn;var rn=(tn={},tn[en.ATTRIBUTE]=true,tn[en.CLASS]=true,tn[en.COMBINATOR]=true,tn[en.COMMENT]=true,tn[en.ID]=true,tn[en.NESTING]=true,tn[en.PSEUDO]=true,tn[en.ROOT]=true,tn[en.SELECTOR]=true,tn[en.STRING]=true,tn[en.TAG]=true,tn[en.UNIVERSAL]=true,tn);function isNode(e){return typeof e==="object"&&rn[e.type]}function isNodeType(e,t){return isNode(t)&&t.type===e}var nn=isNodeType.bind(null,en.ATTRIBUTE);Zr.isAttribute=nn;var sn=isNodeType.bind(null,en.CLASS);Zr.isClassName=sn;var on=isNodeType.bind(null,en.COMBINATOR);Zr.isCombinator=on;var an=isNodeType.bind(null,en.COMMENT);Zr.isComment=an;var un=isNodeType.bind(null,en.ID);Zr.isIdentifier=un;var cn=isNodeType.bind(null,en.NESTING);Zr.isNesting=cn;var fn=isNodeType.bind(null,en.PSEUDO);Zr.isPseudo=fn;var ln=isNodeType.bind(null,en.ROOT);Zr.isRoot=ln;var pn=isNodeType.bind(null,en.SELECTOR);Zr.isSelector=pn;var hn=isNodeType.bind(null,en.STRING);Zr.isString=hn;var dn=isNodeType.bind(null,en.TAG);Zr.isTag=dn;var vn=isNodeType.bind(null,en.UNIVERSAL);Zr.isUniversal=vn;function isPseudoElement(e){return fn(e)&&e.value&&(e.value.startsWith("::")||e.value.toLowerCase()===":before"||e.value.toLowerCase()===":after"||e.value.toLowerCase()===":first-letter"||e.value.toLowerCase()===":first-line")}function isPseudoClass(e){return fn(e)&&!isPseudoElement(e)}function isContainer(e){return!!(isNode(e)&&e.walk)}function isNamespace(e){return nn(e)||dn(e)}var _n={};_n.__esModule=true;var yn=S;Object.keys(yn).forEach((function(e){e!=="default"&&e!=="__esModule"&&(e in _n&&_n[e]===yn[e]||(_n[e]=yn[e]))}));var bn=Dr;Object.keys(bn).forEach((function(e){e!=="default"&&e!=="__esModule"&&(e in _n&&_n[e]===bn[e]||(_n[e]=bn[e]))}));var Sn=Zr;Object.keys(Sn).forEach((function(e){e!=="default"&&e!=="__esModule"&&(e in _n&&_n[e]===Sn[e]||(_n[e]=Sn[e]))}));var On={};On.__esModule=true;On.default=void 0;var gn=_interopRequireDefault(Er);var Tn=_interopRequireWildcard(_n);function _getRequireWildcardCache(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e;r&&r.set(e,n);return n}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Pn=function parser(e){return new gn.default(e)};Object.assign(Pn,Tn);delete Pn.__esModule;var kn=Pn;On.default=kn;On=On.default;var wn=On;const mn=On.__esModule;export{mn as __esModule,wn as default};

