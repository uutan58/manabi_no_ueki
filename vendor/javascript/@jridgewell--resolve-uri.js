var t={};(function(e,s){t=s()})(0,(function(){const t=/^[\w+.-]+:\/\//;const e=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/;const s=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function isAbsoluteUrl(e){return t.test(e)}function isSchemeRelativeUrl(t){return t.startsWith("//")}function isAbsolutePath(t){return t.startsWith("/")}function isFileUrl(t){return t.startsWith("file:")}function isRelative(t){return/^[.?#]/.test(t)}function parseAbsoluteUrl(t){const s=e.exec(t);return makeUrl(s[1],s[2]||"",s[3],s[4]||"",s[5]||"/",s[6]||"",s[7]||"")}function parseFileUrl(t){const e=s.exec(t);const r=e[2];return makeUrl("file:","",e[1]||"","",isAbsolutePath(r)?r:"/"+r,e[3]||"",e[4]||"")}function makeUrl(t,e,s,r,n,a,i){return{scheme:t,user:e,host:s,port:r,path:n,query:a,hash:i,type:7}}function parseUrl(t){if(isSchemeRelativeUrl(t)){const e=parseAbsoluteUrl("http:"+t);e.scheme="";e.type=6;return e}if(isAbsolutePath(t)){const e=parseAbsoluteUrl("http://foo.com"+t);e.scheme="";e.host="";e.type=5;return e}if(isFileUrl(t))return parseFileUrl(t);if(isAbsoluteUrl(t))return parseAbsoluteUrl(t);const e=parseAbsoluteUrl("http://foo.com/"+t);e.scheme="";e.host="";e.type=t?t.startsWith("?")?3:t.startsWith("#")?2:4:1;return e}function stripPathFilename(t){if(t.endsWith("/.."))return t;const e=t.lastIndexOf("/");return t.slice(0,e+1)}function mergePaths(t,e){normalizePath(e,e.type);t.path==="/"?t.path=e.path:t.path=stripPathFilename(e.path)+t.path}function normalizePath(t,e){const s=e<=4;const r=t.path.split("/");let n=1;let a=0;let i=false;for(let t=1;t<r.length;t++){const e=r[t];if(e){i=false;if(e!==".")if(e!==".."){r[n++]=e;a++}else if(a){i=true;a--;n--}else s&&(r[n++]=e)}else i=true}let l="";for(let t=1;t<n;t++)l+="/"+r[t];(!l||i&&!l.endsWith("/.."))&&(l+="/");t.path=l}function resolve(t,e){if(!t&&!e)return"";const s=parseUrl(t);let r=s.type;if(e&&r!==7){const t=parseUrl(e);const n=t.type;switch(r){case 1:s.hash=t.hash;case 2:s.query=t.query;case 3:case 4:mergePaths(s,t);case 5:s.user=t.user;s.host=t.host;s.port=t.port;case 6:s.scheme=t.scheme}n>r&&(r=n)}normalizePath(s,r);const n=s.query+s.hash;switch(r){case 2:case 3:return n;case 4:{const r=s.path.slice(1);return r?isRelative(e||t)&&!isRelative(r)?"./"+r+n:r+n:n||"."}case 5:return s.path+n;default:return s.scheme+"//"+s.user+s.host+s.port+s.path+n}}return resolve}));var e=t;export{e as default};

