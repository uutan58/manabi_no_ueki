import*as t from"os";import*as e from"path";import*as r from"glob-parent";import*as s from"micromatch";import*as n from"merge2";import*as a from"@nodelib/fs.walk";import*as i from"@nodelib/fs.stat";import*as o from"stream";import*as c from"fs";import u from"process";var l={};Object.defineProperty(l,"__esModule",{value:true});l.splitWhen=l.flatten=void 0;function flatten(t){return t.reduce(((t,e)=>[].concat(t,e)),[])}l.flatten=flatten;function splitWhen(t,e){const r=[[]];let s=0;for(const n of t)if(e(n)){s++;r[s]=[]}else r[s].push(n);return r}l.splitWhen=splitWhen;var h={};Object.defineProperty(h,"__esModule",{value:true});h.isEnoentCodeError=void 0;function isEnoentCodeError(t){return t.code==="ENOENT"}h.isEnoentCodeError=isEnoentCodeError;var p={};Object.defineProperty(p,"__esModule",{value:true});p.createDirentFromStats=void 0;class DirentFromStats{constructor(t,e){this.name=t;this.isBlockDevice=e.isBlockDevice.bind(e);this.isCharacterDevice=e.isCharacterDevice.bind(e);this.isDirectory=e.isDirectory.bind(e);this.isFIFO=e.isFIFO.bind(e);this.isFile=e.isFile.bind(e);this.isSocket=e.isSocket.bind(e);this.isSymbolicLink=e.isSymbolicLink.bind(e)}}function createDirentFromStats(t,e){return new DirentFromStats(t,e)}p.createDirentFromStats=createDirentFromStats;var d=t;try{"default"in t&&(d=t.default)}catch(t){}var P=e;try{"default"in e&&(P=e.default)}catch(t){}var f={};Object.defineProperty(f,"__esModule",{value:true});f.convertPosixPathToPattern=f.convertWindowsPathToPattern=f.convertPathToPattern=f.escapePosixPath=f.escapeWindowsPath=f.escape=f.removeLeadingDotSegment=f.makeAbsolute=f.unixify=void 0;const g=d;const _=P;const y=g.platform()==="win32";const v=2;const m=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g;const S=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g;const b=/^\\\\([.?])/;const T=/\\(?![!()+@[\]{}])/g;function unixify(t){return t.replace(/\\/g,"/")}f.unixify=unixify;function makeAbsolute(t,e){return _.resolve(t,e)}f.makeAbsolute=makeAbsolute;function removeLeadingDotSegment(t){if(t.charAt(0)==="."){const e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(v)}return t}f.removeLeadingDotSegment=removeLeadingDotSegment;f.escape=y?escapeWindowsPath:escapePosixPath;function escapeWindowsPath(t){return t.replace(S,"\\$2")}f.escapeWindowsPath=escapeWindowsPath;function escapePosixPath(t){return t.replace(m,"\\$2")}f.escapePosixPath=escapePosixPath;f.convertPathToPattern=y?convertWindowsPathToPattern:convertPosixPathToPattern;function convertWindowsPathToPattern(t){return escapeWindowsPath(t).replace(b,"//$1").replace(T,"/")}f.convertWindowsPathToPattern=convertWindowsPathToPattern;function convertPosixPathToPattern(t){return escapePosixPath(t)}f.convertPosixPathToPattern=convertPosixPathToPattern;var D=e;try{"default"in e&&(D=e.default)}catch(t){}var k=r;try{"default"in r&&(k=r.default)}catch(t){}var E=s;try{"default"in s&&(E=s.default)}catch(t){}var w={};Object.defineProperty(w,"__esModule",{value:true});w.removeDuplicateSlashes=w.matchAny=w.convertPatternsToRe=w.makeRe=w.getPatternParts=w.expandBraceExpansion=w.expandPatternsWithBraceExpansion=w.isAffectDepthOfReadingPattern=w.endsWithSlashGlobStar=w.hasGlobStar=w.getBaseDirectory=w.isPatternRelatedToParentDirectory=w.getPatternsOutsideCurrentDirectory=w.getPatternsInsideCurrentDirectory=w.getPositivePatterns=w.getNegativePatterns=w.isPositivePattern=w.isNegativePattern=w.convertToNegativePattern=w.convertToPositivePattern=w.isDynamicPattern=w.isStaticPattern=void 0;const x=D;const O=k;const F=E;const M="**";const R="\\";const B=/[*?]|^!/;const A=/\[[^[]*]/;const j=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/;const N=/[!*+?@]\([^(]*\)/;const W=/,|\.\./;const L=/(?!^)\/{2,}/g;function isStaticPattern(t,e={}){return!isDynamicPattern(t,e)}w.isStaticPattern=isStaticPattern;function isDynamicPattern(t,e={}){return t!==""&&(!(e.caseSensitiveMatch!==false&&!t.includes(R))||(!!(B.test(t)||A.test(t)||j.test(t))||(!(e.extglob===false||!N.test(t))||!(e.braceExpansion===false||!hasBraceExpansion(t)))))}w.isDynamicPattern=isDynamicPattern;function hasBraceExpansion(t){const e=t.indexOf("{");if(e===-1)return false;const r=t.indexOf("}",e+1);if(r===-1)return false;const s=t.slice(e,r);return W.test(s)}function convertToPositivePattern(t){return isNegativePattern(t)?t.slice(1):t}w.convertToPositivePattern=convertToPositivePattern;function convertToNegativePattern(t){return"!"+t}w.convertToNegativePattern=convertToNegativePattern;function isNegativePattern(t){return t.startsWith("!")&&t[1]!=="("}w.isNegativePattern=isNegativePattern;function isPositivePattern(t){return!isNegativePattern(t)}w.isPositivePattern=isPositivePattern;function getNegativePatterns(t){return t.filter(isNegativePattern)}w.getNegativePatterns=getNegativePatterns;function getPositivePatterns$1(t){return t.filter(isPositivePattern)}w.getPositivePatterns=getPositivePatterns$1;function getPatternsInsideCurrentDirectory(t){return t.filter((t=>!isPatternRelatedToParentDirectory(t)))}w.getPatternsInsideCurrentDirectory=getPatternsInsideCurrentDirectory;function getPatternsOutsideCurrentDirectory(t){return t.filter(isPatternRelatedToParentDirectory)}w.getPatternsOutsideCurrentDirectory=getPatternsOutsideCurrentDirectory;function isPatternRelatedToParentDirectory(t){return t.startsWith("..")||t.startsWith("./..")}w.isPatternRelatedToParentDirectory=isPatternRelatedToParentDirectory;function getBaseDirectory(t){return O(t,{flipBackslashes:false})}w.getBaseDirectory=getBaseDirectory;function hasGlobStar(t){return t.includes(M)}w.hasGlobStar=hasGlobStar;function endsWithSlashGlobStar(t){return t.endsWith("/"+M)}w.endsWithSlashGlobStar=endsWithSlashGlobStar;function isAffectDepthOfReadingPattern(t){const e=x.basename(t);return endsWithSlashGlobStar(t)||isStaticPattern(e)}w.isAffectDepthOfReadingPattern=isAffectDepthOfReadingPattern;function expandPatternsWithBraceExpansion(t){return t.reduce(((t,e)=>t.concat(expandBraceExpansion(e))),[])}w.expandPatternsWithBraceExpansion=expandPatternsWithBraceExpansion;function expandBraceExpansion(t){const e=F.braces(t,{expand:true,nodupes:true,keepEscaping:true});e.sort(((t,e)=>t.length-e.length));return e.filter((t=>t!==""))}w.expandBraceExpansion=expandBraceExpansion;function getPatternParts(t,e){let{parts:r}=F.scan(t,Object.assign(Object.assign({},e),{parts:true}));r.length===0&&(r=[t]);if(r[0].startsWith("/")){r[0]=r[0].slice(1);r.unshift("")}return r}w.getPatternParts=getPatternParts;function makeRe(t,e){return F.makeRe(t,e)}w.makeRe=makeRe;function convertPatternsToRe(t,e){return t.map((t=>makeRe(t,e)))}w.convertPatternsToRe=convertPatternsToRe;function matchAny(t,e){return e.some((e=>e.test(t)))}w.matchAny=matchAny;function removeDuplicateSlashes(t){return t.replace(L,"/")}w.removeDuplicateSlashes=removeDuplicateSlashes;var I=n;try{"default"in n&&(I=n.default)}catch(t){}var G={};Object.defineProperty(G,"__esModule",{value:true});G.merge=void 0;const C=I;function merge(t){const e=C(t);t.forEach((t=>{t.once("error",(t=>e.emit("error",t)))}));e.once("close",(()=>propagateCloseEventToSources(t)));e.once("end",(()=>propagateCloseEventToSources(t)));return e}G.merge=merge;function propagateCloseEventToSources(t){t.forEach((t=>t.emit("close")))}var V={};Object.defineProperty(V,"__esModule",{value:true});V.isEmpty=V.isString=void 0;function isString(t){return typeof t==="string"}V.isString=isString;function isEmpty(t){return t===""}V.isEmpty=isEmpty;var $={};Object.defineProperty($,"__esModule",{value:true});$.string=$.stream=$.pattern=$.path=$.fs=$.errno=$.array=void 0;const q=l;$.array=q;const U=h;$.errno=U;const Y=p;$.fs=Y;const z=f;$.path=z;const H=w;$.pattern=H;const J=G;$.stream=J;const K=V;$.string=K;var Q={};Object.defineProperty(Q,"__esModule",{value:true});Q.convertPatternGroupToTask=Q.convertPatternGroupsToTasks=Q.groupPatternsByBaseDirectory=Q.getNegativePatternsAsPositive=Q.getPositivePatterns=Q.convertPatternsToTasks=Q.generate=void 0;const X=$;function generate(t,e){const r=processPatterns(t,e);const s=processPatterns(e.ignore,e);const n=getPositivePatterns(r);const a=getNegativePatternsAsPositive(r,s);const i=n.filter((t=>X.pattern.isStaticPattern(t,e)));const o=n.filter((t=>X.pattern.isDynamicPattern(t,e)));const c=convertPatternsToTasks(i,a,false);const u=convertPatternsToTasks(o,a,true);return c.concat(u)}Q.generate=generate;function processPatterns(t,e){let r=t;e.braceExpansion&&(r=X.pattern.expandPatternsWithBraceExpansion(r));e.baseNameMatch&&(r=r.map((t=>t.includes("/")?t:`**/${t}`)));return r.map((t=>X.pattern.removeDuplicateSlashes(t)))}function convertPatternsToTasks(t,e,r){const s=[];const n=X.pattern.getPatternsOutsideCurrentDirectory(t);const a=X.pattern.getPatternsInsideCurrentDirectory(t);const i=groupPatternsByBaseDirectory(n);const o=groupPatternsByBaseDirectory(a);s.push(...convertPatternGroupsToTasks(i,e,r));"."in o?s.push(convertPatternGroupToTask(".",a,e,r)):s.push(...convertPatternGroupsToTasks(o,e,r));return s}Q.convertPatternsToTasks=convertPatternsToTasks;function getPositivePatterns(t){return X.pattern.getPositivePatterns(t)}Q.getPositivePatterns=getPositivePatterns;function getNegativePatternsAsPositive(t,e){const r=X.pattern.getNegativePatterns(t).concat(e);const s=r.map(X.pattern.convertToPositivePattern);return s}Q.getNegativePatternsAsPositive=getNegativePatternsAsPositive;function groupPatternsByBaseDirectory(t){const e={};return t.reduce(((t,e)=>{const r=X.pattern.getBaseDirectory(e);r in t?t[r].push(e):t[r]=[e];return t}),e)}Q.groupPatternsByBaseDirectory=groupPatternsByBaseDirectory;function convertPatternGroupsToTasks(t,e,r){return Object.keys(t).map((s=>convertPatternGroupToTask(s,t[s],e,r)))}Q.convertPatternGroupsToTasks=convertPatternGroupsToTasks;function convertPatternGroupToTask(t,e,r,s){return{dynamic:s,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(X.pattern.convertToNegativePattern))}}Q.convertPatternGroupToTask=convertPatternGroupToTask;var Z=e;try{"default"in e&&(Z=e.default)}catch(t){}var tt=i;try{"default"in i&&(tt=i.default)}catch(t){}var et={};Object.defineProperty(et,"__esModule",{value:true});const rt=Z;const st=tt;const nt=$;class Reader{constructor(t){this._settings=t;this._fsStatSettings=new st.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return rt.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:nt.fs.createDirentFromStats(e,t)};this._settings.stats&&(r.stats=t);return r}_isFatalError(t){return!nt.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}et.default=Reader;var at=o;try{"default"in o&&(at=o.default)}catch(t){}var it=i;try{"default"in i&&(it=i.default)}catch(t){}var ot=a;try{"default"in a&&(ot=a.default)}catch(t){}var ct={};Object.defineProperty(ct,"__esModule",{value:true});const ut=at;const lt=it;const ht=ot;const pt=et;class ReaderStream extends pt.default{constructor(){super(...arguments);this._walkStream=ht.walkStream;this._stat=lt.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const r=t.map(this._getFullEntryPath,this);const s=new ut.PassThrough({objectMode:true});s._write=(n,a,i)=>this._getEntry(r[n],t[n],e).then((t=>{t!==null&&e.entryFilter(t)&&s.push(t);n===r.length-1&&s.end();i()})).catch(i);for(let t=0;t<r.length;t++)s.write(t);return s}_getEntry(t,e,r){return this._getStat(t).then((t=>this._makeEntry(t,e))).catch((t=>{if(r.errorFilter(t))return null;throw t}))}_getStat(t){return new Promise(((e,r)=>{this._stat(t,this._fsStatSettings,((t,s)=>t===null?e(s):r(t)))}))}}ct.default=ReaderStream;var dt=a;try{"default"in a&&(dt=a.default)}catch(t){}var Pt={};Object.defineProperty(Pt,"__esModule",{value:true});const ft=dt;const gt=et;const _t=ct;class ReaderAsync extends gt.default{constructor(){super(...arguments);this._walkAsync=ft.walk;this._readerStream=new _t.default(this._settings)}dynamic(t,e){return new Promise(((r,s)=>{this._walkAsync(t,e,((t,e)=>{t===null?r(e):s(t)}))}))}async static(t,e){const r=[];const s=this._readerStream.static(t,e);return new Promise(((t,e)=>{s.once("error",e);s.on("data",(t=>r.push(t)));s.once("end",(()=>t(r)))}))}}Pt.default=ReaderAsync;var yt={};Object.defineProperty(yt,"__esModule",{value:true});const vt=$;class Matcher{constructor(t,e,r){this._patterns=t;this._settings=e;this._micromatchOptions=r;this._storage=[];this._fillStorage()}_fillStorage(){for(const t of this._patterns){const e=this._getPatternSegments(t);const r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(t){const e=vt.pattern.getPatternParts(t,this._micromatchOptions);return e.map((t=>{const e=vt.pattern.isDynamicPattern(t,this._settings);return e?{dynamic:true,pattern:t,patternRe:vt.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:false,pattern:t}}))}_splitSegmentsIntoSections(t){return vt.array.splitWhen(t,(t=>t.dynamic&&vt.pattern.hasGlobStar(t.pattern)))}}yt.default=Matcher;var mt={};Object.defineProperty(mt,"__esModule",{value:true});const St=yt;class PartialMatcher extends St.default{match(t){const e=t.split("/");const r=e.length;const s=this._storage.filter((t=>!t.complete||t.segments.length>r));for(const t of s){const s=t.sections[0];if(!t.complete&&r>s.length)return true;const n=e.every(((e,r)=>{const s=t.segments[r];return!(!s.dynamic||!s.patternRe.test(e))||!s.dynamic&&s.pattern===e}));if(n)return true}return false}}mt.default=PartialMatcher;var bt={};Object.defineProperty(bt,"__esModule",{value:true});const Tt=$;const Dt=mt;class DeepFilter{constructor(t,e){this._settings=t;this._micromatchOptions=e}getFilter(t,e,r){const s=this._getMatcher(e);const n=this._getNegativePatternsRe(r);return e=>this._filter(t,e,s,n)}_getMatcher(t){return new Dt.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(Tt.pattern.isAffectDepthOfReadingPattern);return Tt.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,r,s){if(this._isSkippedByDeep(t,e.path))return false;if(this._isSkippedSymbolicLink(e))return false;const n=Tt.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(n,r)&&this._isSkippedByNegativePatterns(n,s)}_isSkippedByDeep(t,e){return this._settings.deep!==Infinity&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const r=e.split("/").length;if(t==="")return r;const s=t.split("/").length;return r-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!Tt.pattern.matchAny(t,e)}}bt.default=DeepFilter;var kt={};Object.defineProperty(kt,"__esModule",{value:true});const Et=$;class EntryFilter{constructor(t,e){this._settings=t;this._micromatchOptions=e;this.index=new Map}getFilter(t,e){const r=Et.pattern.convertPatternsToRe(t,this._micromatchOptions);const s=Et.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:true}));return t=>this._filter(t,r,s)}_filter(t,e,r){const s=Et.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(s))return false;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return false;if(this._isSkippedByAbsoluteNegativePatterns(s,r))return false;const n=t.dirent.isDirectory();const a=this._isMatchToPatterns(s,e,n)&&!this._isMatchToPatterns(s,r,n);this._settings.unique&&a&&this._createIndexRecord(s);return a}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return false;const r=Et.path.makeAbsolute(this._settings.cwd,t);return Et.pattern.matchAny(r,e)}_isMatchToPatterns(t,e,r){const s=Et.pattern.matchAny(t,e);return!s&&r?Et.pattern.matchAny(t+"/",e):s}}kt.default=EntryFilter;var wt={};Object.defineProperty(wt,"__esModule",{value:true});const xt=$;class ErrorFilter{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return xt.errno.isEnoentCodeError(t)||this._settings.suppressErrors}}wt.default=ErrorFilter;var Ot={};Object.defineProperty(Ot,"__esModule",{value:true});const Ft=$;class EntryTransformer{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;if(this._settings.absolute){e=Ft.path.makeAbsolute(this._settings.cwd,e);e=Ft.path.unixify(e)}this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/");return this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}}Ot.default=EntryTransformer;var Mt=e;try{"default"in e&&(Mt=e.default)}catch(t){}var Rt={};Object.defineProperty(Rt,"__esModule",{value:true});const Bt=Mt;const At=bt;const jt=kt;const Nt=wt;const Wt=Ot;class Provider{constructor(t){this._settings=t;this.errorFilter=new Nt.default(this._settings);this.entryFilter=new jt.default(this._settings,this._getMicromatchOptions());this.deepFilter=new At.default(this._settings,this._getMicromatchOptions());this.entryTransformer=new Wt.default(this._settings)}_getRootDirectory(t){return Bt.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e=t.base==="."?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:true,strictSlashes:false}}}Rt.default=Provider;var Lt={};Object.defineProperty(Lt,"__esModule",{value:true});const It=Pt;const Gt=Rt;class ProviderAsync extends Gt.default{constructor(){super(...arguments);this._reader=new It.default(this._settings)}async read(t){const e=this._getRootDirectory(t);const r=this._getReaderOptions(t);const s=await this.api(e,t,r);return s.map((t=>r.transform(t)))}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}Lt.default=ProviderAsync;var Ct=o;try{"default"in o&&(Ct=o.default)}catch(t){}var Vt={};Object.defineProperty(Vt,"__esModule",{value:true});const $t=Ct;const qt=ct;const Ut=Rt;class ProviderStream extends Ut.default{constructor(){super(...arguments);this._reader=new qt.default(this._settings)}read(t){const e=this._getRootDirectory(t);const r=this._getReaderOptions(t);const s=this.api(e,t,r);const n=new $t.Readable({objectMode:true,read:()=>{}});s.once("error",(t=>n.emit("error",t))).on("data",(t=>n.emit("data",r.transform(t)))).once("end",(()=>n.emit("end")));n.once("close",(()=>s.destroy()));return n}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}Vt.default=ProviderStream;var Yt=i;try{"default"in i&&(Yt=i.default)}catch(t){}var zt=a;try{"default"in a&&(zt=a.default)}catch(t){}var Ht={};Object.defineProperty(Ht,"__esModule",{value:true});const Jt=Yt;const Kt=zt;const Qt=et;class ReaderSync extends Qt.default{constructor(){super(...arguments);this._walkSync=Kt.walkSync;this._statSync=Jt.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const s of t){const t=this._getFullEntryPath(s);const n=this._getEntry(t,s,e);n!==null&&e.entryFilter(n)&&r.push(n)}return r}_getEntry(t,e,r){try{const r=this._getStat(t);return this._makeEntry(r,e)}catch(t){if(r.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}Ht.default=ReaderSync;var Xt={};Object.defineProperty(Xt,"__esModule",{value:true});const Zt=Ht;const te=Rt;class ProviderSync extends te.default{constructor(){super(...arguments);this._reader=new Zt.default(this._settings)}read(t){const e=this._getRootDirectory(t);const r=this._getReaderOptions(t);const s=this.api(e,t,r);return s.map(r.transform)}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}Xt.default=ProviderSync;var ee=c;try{"default"in c&&(ee=c.default)}catch(t){}var re=t;try{"default"in t&&(re=t.default)}catch(t){}var se={};var ne=u;Object.defineProperty(se,"__esModule",{value:true});se.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const ae=ee;const ie=re;const oe=Math.max(ie.cpus().length,1);se.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:ae.lstat,lstatSync:ae.lstatSync,stat:ae.stat,statSync:ae.statSync,readdir:ae.readdir,readdirSync:ae.readdirSync};class Settings{constructor(t={}){this._options=t;this.absolute=this._getValue(this._options.absolute,false);this.baseNameMatch=this._getValue(this._options.baseNameMatch,false);this.braceExpansion=this._getValue(this._options.braceExpansion,true);this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,true);this.concurrency=this._getValue(this._options.concurrency,oe);this.cwd=this._getValue(this._options.cwd,ne.cwd());this.deep=this._getValue(this._options.deep,Infinity);this.dot=this._getValue(this._options.dot,false);this.extglob=this._getValue(this._options.extglob,true);this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,true);this.fs=this._getFileSystemMethods(this._options.fs);this.globstar=this._getValue(this._options.globstar,true);this.ignore=this._getValue(this._options.ignore,[]);this.markDirectories=this._getValue(this._options.markDirectories,false);this.objectMode=this._getValue(this._options.objectMode,false);this.onlyDirectories=this._getValue(this._options.onlyDirectories,false);this.onlyFiles=this._getValue(this._options.onlyFiles,true);this.stats=this._getValue(this._options.stats,false);this.suppressErrors=this._getValue(this._options.suppressErrors,false);this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,false);this.unique=this._getValue(this._options.unique,true);this.onlyDirectories&&(this.onlyFiles=false);this.stats&&(this.objectMode=true);this.ignore=[].concat(this.ignore)}_getValue(t,e){return t===void 0?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},se.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}se.default=Settings;var ce={};const ue=Q;const le=Lt;const he=Vt;const pe=Xt;const de=se;const Pe=$;async function FastGlob(t,e){assertPatternsInput(t);const r=getWorks(t,le.default,e);const s=await Promise.all(r);return Pe.array.flatten(s)}(function(t){t.glob=t;t.globSync=sync;t.globStream=stream;t.async=t;function sync(t,e){assertPatternsInput(t);const r=getWorks(t,pe.default,e);return Pe.array.flatten(r)}t.sync=sync;function stream(t,e){assertPatternsInput(t);const r=getWorks(t,he.default,e);return Pe.stream.merge(r)}t.stream=stream;function generateTasks(t,e){assertPatternsInput(t);const r=[].concat(t);const s=new de.default(e);return ue.generate(r,s)}t.generateTasks=generateTasks;function isDynamicPattern(t,e){assertPatternsInput(t);const r=new de.default(e);return Pe.pattern.isDynamicPattern(t,r)}t.isDynamicPattern=isDynamicPattern;function escapePath(t){assertPatternsInput(t);return Pe.path.escape(t)}t.escapePath=escapePath;function convertPathToPattern(t){assertPatternsInput(t);return Pe.path.convertPathToPattern(t)}t.convertPathToPattern=convertPathToPattern;let e;(function(t){function escapePath(t){assertPatternsInput(t);return Pe.path.escapePosixPath(t)}t.escapePath=escapePath;function convertPathToPattern(t){assertPatternsInput(t);return Pe.path.convertPosixPathToPattern(t)}t.convertPathToPattern=convertPathToPattern})(e=t.posix||(t.posix={}));let r;(function(t){function escapePath(t){assertPatternsInput(t);return Pe.path.escapeWindowsPath(t)}t.escapePath=escapePath;function convertPathToPattern(t){assertPatternsInput(t);return Pe.path.convertWindowsPathToPattern(t)}t.convertPathToPattern=convertPathToPattern})(r=t.win32||(t.win32={}))})(FastGlob||(FastGlob={}));function getWorks(t,e,r){const s=[].concat(t);const n=new de.default(r);const a=ue.generate(s,n);const i=new e(n);return a.map(i.read,i)}function assertPatternsInput(t){const e=[].concat(t);const r=e.every((t=>Pe.string.isString(t)&&!Pe.string.isEmpty(t)));if(!r)throw new TypeError("Patterns must be a string (non empty) or an array of strings")}ce=FastGlob;var fe=ce;export{fe as default};

